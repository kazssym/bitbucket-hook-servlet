<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<!--
  index.xhtml - welcome page for bitbucket-webhook-example
  Copyright (C) 2014-2015 Nishimura Software Studio

  This program is free software: you can redistribute it and/or modify it
  under the terms of the GNU Affero General Public License as published by the
  Free Software Foundation, either version 3 of the License, or (at your
  option) any later version.

  This program is distributed in the hope that it will be useful, but WITHOUT
  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License
  for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets">
  <ui:composition template="templates/example.xhtml">
    <ui:define name="main">
      <h1>Last activity</h1>
      <div>
        The last repository push
        <ui:fragment rendered="#{empty activityLog.lastRepositoryPush}">
          is not recorded after the most recent startup.
        </ui:fragment>
        <ui:fragment rendered="#{not empty activityLog.lastRepositoryPush}">
          was made by ${activityLog.lastRepositoryPush.actor.username} to ${activityLog.lastRepositoryPush.repository.fullName}:<br/>
          ${activityLog.lastRepositoryPush.pushJsonObject}.
        </ui:fragment>
      </div>
    </ui:define>
  </ui:composition>
</html>
